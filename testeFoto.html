<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <meta charset="UTF-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>


  <div class="container text-center">

    <!--  radio  -->
  <div class="row justify-content-center">

    <br>
    <br>
    <div class="col-12">

    <form>
    <div class="form-group col-md-12 col-lg-2">
        <h3 for="tamanho">Tamanho</h3>

    <div class="btn-group btn-group-toggle" data-toggle="buttons">
        <button type="button" class="btn btn-secondary" name="option1" id="option1" autocomplete="off">10x15</button>
        <button type="button" class="btn btn-secondary" name="option2" id="option2" autocomplete="off"> 12x15</button>
        <button type="button" class="btn btn-secondary" name="option3" id="option3" autocomplete="off"> 13x18 </button>
        <input hidden id="altura"/>
        <input hidden id="largura"/>

      </div>
    </div>
    <div class="form-group col-md-12 col-lg-6">
        <h3 for="filtro">Filtros</h3>


        <label for="filtro1">Blur</label>
        <input type="range" min="0" max="100" step="1" value="100" class="custom-range" id="filtro1">

        <label for="filtro2">Brightness</label>
        <input type="range" min="0" max="100" step="1" value="100" class="custom-range" id="filtro2">

        <label for="filtro3">Contrast</label>
        <input type="range" min="0" max="100" step="1" value="100" class="custom-range" id="filtro3">

        <label for="filtro4">Drop-Shadow</label>
        <input type="range" min="0" max="100" step="1" value="100" class="custom-range" id="filtro4">

        <label for="filtro5">Grayscale</label>
        <input type="range" min="0" max="100" step="1" value="100" class="custom-range" id="filtro5">

        <label for="filtro6">Hue-Rotate</label>
        <input type="range" min="0" max="100" step="1" value="100" class="custom-range" id="filtro6">

        <label for="filtro7">Invert</label>
        <input type="range" min="0" max="100" step="1" value="100" class="custom-range" id="filtro7">

        <label for="filtro8">Opacity</label>
        <input type="range" min="0" max="100" step="1" value="100" class="custom-range" id="filtro8">

        <label for="filtro9">Saturate</label>
        <input type="range" min="0" max="100" step="1" value="100" class="custom-range" id="filtro9">

        <label for="filtro10">Sepia</label>
        <input type="range" min="0" max="100" step="1" value="100" class="custom-range" id="filtro10">

        <label for="filtro11">Url</label>
        <input type="range" min="0" max="100" step="1" value="100" class="custom-range" id="filtro11">

    </div>

    <div class="form-group col-md-12 col-lg-2">
      <label for="example-number-input">Quantidade</label>
        <input class="form-control" type="number" value="1" id="example-number-input">
    </div>


    <div class="form-group col-md-12">
        <input type="file" class="form-control-file" id="imagem">
    </div>

</form>
</div>
      <br>
      <br>
      <br>
      <br>

      <!-- height e width será ajustado a partir do ajuste do tamanho, assim como o filtro -->
      <div class="row justify-content-center">


      <img  id="myImg"  >


      <br>
      <br>
      <br>


      </div>


      <div class="row">
        <div class="col-12 text-center">
        <h3>Preço por tamanho</h3>
        <ul class="nav nav-tabs col-md-12">
          <li><a data-toggle="tab" class="btn btn-secondary" href="#menu1">10x15</a></li>
          <li><a data-toggle="tab" class="btn btn-secondary"  href="#menu2">12x15</a></li>
          <li><a data-toggle="tab" class="btn btn-secondary" href="#menu3">13x18</a></li>
        </ul>
      
        <div class="tab-content">
          <div id="menu1" class="tab-pane fade">
            <h5>Valor</h5>
            <form>
              <input type="text" class="form-control mb-2 mr-sm-2" id="preco-1">
              <button type ="submit" id="preco1">Cadastrar</button>
            </form>
          </div>

          <div id="menu2" class="tab-pane fade">
            <h5>Valor</h5>
            <form>
              <input type="text" class="form-control mb-2 mr-sm-2" id="preco-2">
              <button type ="submit" id="preco2">Cadastrar</button>

            </form>
          </div>
          <div id="menu3" class="tab-pane fade">
            <h5>Valor</h5>
            <form>
              <input type="text" class="form-control mb-2 mr-sm-2" id="preco-3">
              <button type ="submit" id="preco3">Cadastrar</button>

            </form>
          </div>
        </div>
      </div>
    </div>
    </div>


      </div>

    <!--  antes deve possuir um botao que pede para fazer orçamento  -->

    <!-- inserir preço utilizando input com mascara de dinheiro-->
    <!--  na primeira vez insere um valor ele cadastra automaticamente (quanto aperta enter e envia uma mensagem que foi cadastrado) apos cadastrar a primeira vez passa a usar uma função de editar e sempre é mostrado o valor cadastrado -->
    <!-- cada aba possui um valor diferente ou igual  -->
    <!-- sera utilizada uma requisição ajax e será feito um controller no symfony -->

    <script type="text/javascript">
    //aparecer imagem
    window.addEventListener('load', function() {
      document.querySelector('input[type="file"]').addEventListener('change', function() {
        if (this.files && this.files[0]) {
          var img = document.querySelector('img');  // $('img')[0]
          img.src = URL.createObjectURL(this.files[0]); // set src to blob url
          img.onload = imageIsLoaded;
        }
      });
    });

    function imageIsLoaded(e) {
      console.log("this works");  
    };



    $(document).ready(function(){


      //Tamanho----------------------------------
      $('#option1').on('click', function(){

        $('#myImg').css('width' , 1772);        
        $('#myImg').css('height', 1181);        

      });
      $('#option2').on('click', function(){
        $('#myImg').css('width', 1772);
        $('#myImg').css('height' ,1417);
      });
      $('#option3').on('click', function(){
        $('#myImg').css('width', 2126);
        $('#myImg').css( 'height', 1535);
      });

      //-------------------------------

      //filtro------------------------------------
      //depois analisar os erros
      let valorFiltro = [];

      

      $('#filtro1').on('change', function(){
        $('#myImg').css('filter', "blur("+$('#filtro1').val()+"%)");
        valorFiltro.push([$('#filtro1').val(), "blur"]);

        for(var i=0; i< valorFiltro.length; i++){
          if(valorFiltro[i].indexOf("blur") !== -1){
            valorFiltro.splice(i, 1) 
            valorFiltro[i] = [$('#filtro1').val(), "blur"];
          }
        }
       // if(valorFiltro.indexOf("blur") !== -1){
          
        console.log(valorFiltro);


      });
      $('#filtro2').on('change', function(){
        $('#myImg').css('filter', "brightness("+$('#filtro2').val()+"%)");
        valorFiltro.push([$('#filtro2').val(), "brightness"]);
        for(var i=0; i< valorFiltro.length; i++){
          if(valorFiltro[i].indexOf("brightness") !== -1){
            valorFiltro.splice(i, 1) 
            valorFiltro[i] = [$('#filtro2').val(), "brightness"];
          }
        }

        console.log(valorFiltro);

      });
      $('#filtro3').on('change', function(){
        $('#myImg').css('filter', "contrast("+$('#filtro3').val()+"%)");
        valorFiltro.push([$('#filtro3').val(), "contrast"]);

        for(var i=0; i< valorFiltro.length; i++){
          if(valorFiltro[i].indexOf("contrast") !== -1){
            valorFiltro.splice(i, 1) 
            valorFiltro[i] = [$('#filtro3').val(), "contrast"];
          }
        }
        console.log(valorFiltro);

      });
      $('#filtro4').on('change', function(){
        $('#myImg').css('filter', "drop-shadow("+$('#filtro4').val()+"%)");
        valorFiltro.push([$('#filtro4').val(), "drop-shadow"]);
        for(var i=0; i< valorFiltro.length; i++){
          if(valorFiltro[i].indexOf("drop-shadow") !== -1){
            valorFiltro.splice(i, 1) 
            valorFiltro[i] = [$('#filtro4').val(), "drop-shadow"];
          }
        }

        console.log(valorFiltro);

      });
      $('#filtro5').on('change', function(){
        $('#myImg').css('filter', "grayscale("+$('#filtro5').val()+"%)");
        valorFiltro.push([$('#filtro5').val(), "grayscale"]);

        for(var i=0; i< valorFiltro.length; i++){
          if(valorFiltro[i].indexOf("grayscale") !== -1){
            valorFiltro.splice(i, 1) 
            valorFiltro[i] = [$('#filtro5').val(), "grayscale"];
          }
        }

        console.log(valorFiltro);

      });
      $('#filtro6').on('change', function(){
        $('#myImg').css('filter', "hue-rotate("+$('#filtro6').val()+"%)");
        valorFiltro.push([$('#filtro6').val(), "hue-rotate"]);
        for(var i=0; i< valorFiltro.length; i++){
          if(valorFiltro[i].indexOf("hue-rotate") !== -1){
            valorFiltro.splice(i, 1) 
            valorFiltro[i] = [$('#filtro6').val(), "hue-rotate"];
          }
        }
        console.log(valorFiltro);

      });
      $('#filtro7').on('change', function(){
        $('#myImg').css('filter', "invert("+$('#filtro7').val()+"%)");
        valorFiltro.push([$('#filtro7').val(), "invert"]);
        for(var i=0; i< valorFiltro.length; i++){
          if(valorFiltro[i].indexOf("invert") !== -1){
            valorFiltro.splice(i, 1) 
            valorFiltro[i] = [$('#filtro7').val(), "invert"];
          }
        }
        console.log(valorFiltro);

      });
      $('#filtro8').on('change', function(){
        $('#myImg').css('filter', "opacity("+$('#filtro8').val()+"%)");
        valorFiltro.push([$('#filtro8').val(), "opacity"]);
        for(var i=0; i< valorFiltro.length; i++){
          if(valorFiltro[i].indexOf("opacity") !== -1){
            valorFiltro.splice(i, 1) 
            valorFiltro[i] = [$('#filtro8').val(), "opacity"];
          }
        }

        console.log(valorFiltro);

      });
      $('#filtro9').on('change', function(){
        $('#myImg').css('filter', "saturate("+$('#filtro9').val()+"%)");
        valorFiltro.push([$('#filtro9').val(), "saturate"]);
        for(var i=0; i< valorFiltro.length; i++){
          if(valorFiltro[i].indexOf("saturate") !== -1){
            valorFiltro.splice(i, 1) 
            valorFiltro[i] = [$('#filtro9').val(), "saturate"];
          }
        }

        console.log(valorFiltro);

      });
      $('#filtro10').on('change', function(){
        $('#myImg').css('filter', "sepia("+$('#filtro10').val()+"%)");
        valorFiltro.push([$('#filtro10').val(), "sepia"]);
        for(var i=0; i< valorFiltro.length; i++){
          if(valorFiltro[i].indexOf("sepia") !== -1){
            valorFiltro.splice(i, 1) 
            valorFiltro[i] = [$('#filtro10').val(), "sepia"];
          }
        }

        console.log(valorFiltro);

      });
      $('#filtro11').on('change', function(){
        $('#myImg').css('filter', "url("+$('#filtro11').val()+"%)");
        valorFiltro.push([$('#filtro11').val(), "url"]);
        for(var i=0; i< valorFiltro.length; i++){
          if(valorFiltro[i].indexOf("url") !== -1){
            valorFiltro.splice(i, 1) 
            valorFiltro[i] = [$('#filtro11').val(), "url"];
          }
        }
        console.log(valorFiltro);

      });
     // console.log(valorFiltro);
     for(var i=0; i< valorFiltro.length; i++){
          if(valorFiltro[i].indexOf("blur") !== -1){
            valorFiltro.splice(i, 1) 
            valorFiltro[i] = [$('#filtro1').val(), "blur"];
          }
        }
      //------------------------requisição ajax





    });


    </script>

    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    
</body>
</html>